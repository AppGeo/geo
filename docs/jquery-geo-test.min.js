document.createElement("canvas").getContext||function(){function c(){return this.context_||(this.context_=new w(this))}function s(g,k){var p=Z.call(arguments,2);return function(){return g.apply(k,p.concat(Z.call(arguments)))}}function E(g){g.namespaces.g_vml_||g.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");g.namespaces.g_o_||g.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");if(!g.styleSheets.ex_canvas_){g=g.createStyleSheet();g.owningElement.id=
"ex_canvas_";g.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function m(g){var k=g.srcElement;switch(g.propertyName){case "width":k.getContext().clearRect();k.style.width=k.attributes.width.nodeValue+"px";k.firstChild.style.width=k.clientWidth+"px";break;case "height":k.getContext().clearRect();k.style.height=k.attributes.height.nodeValue+"px";k.firstChild.style.height=k.clientHeight+"px"}}function f(g){g=g.srcElement;if(g.firstChild){g.firstChild.style.width=
g.clientWidth+"px";g.firstChild.style.height=g.clientHeight+"px"}}function j(g){var k=g.indexOf("(",3),p=g.indexOf(")",k+1);k=g.substring(k+1,p).split(",");if(k.length!=4||g.charAt(3)!="a")k[3]=1;return k}function h(g,k,p){return Math.min(p,Math.max(k,g))}function t(g,k,p){p<0&&p++;p>1&&p--;return 6*p<1?g+(k-g)*6*p:2*p<1?k:3*p<2?g+(k-g)*(2/3-p)*6:g}function e(g){if(g in ia)return ia[g];var k,p=1;g=String(g);if(g.charAt(0)=="#")k=g;else if(/^rgb/.test(g)){p=j(g);k="#";for(var x,J=0;J<3;J++){x=p[J].indexOf("%")!=
-1?Math.floor(parseFloat(p[J])/100*255):+p[J];k+=aa[h(x,0,255)]}p=+p[3]}else if(/^hsl/.test(g)){J=p=j(g);k=parseFloat(J[0])/360%360;k<0&&k++;x=h(parseFloat(J[1])/100,0,1);J=h(parseFloat(J[2])/100,0,1);if(x==0)x=J=k=J;else{var y=J<0.5?J*(1+x):J+x-J*x,V=2*J-y;x=t(V,y,k+1/3);J=t(V,y,k);k=t(V,y,k-1/3)}k="#"+aa[Math.floor(x*255)]+aa[Math.floor(J*255)]+aa[Math.floor(k*255)];p=p[3]}else k=g;return ia[g]={color:k,alpha:p}}function w(g){this.m_=[[1,0,0],[0,1,0],[0,0,1]];this.mStack_=[];this.aStack_=[];this.currentPath_=
[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=H*1;this.globalAlpha=1;this.canvas=g;var k="width:"+g.clientWidth+"px;height:"+g.clientHeight+"px;overflow:hidden;position:absolute",p=g.ownerDocument.createElement("div");p.style.cssText=k;g.appendChild(p);k=p.cloneNode(false);k.style.backgroundColor="red";k.style.filter="alpha(opacity=0)";g.appendChild(k);this.element_=p;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function l(g,
k,p){g=g.m_;return{x:H*(k*g[0][0]+p*g[1][0]+g[2][0])-Q,y:H*(k*g[0][1]+p*g[1][1]+g[2][1])-Q}}function n(g){this.code=this[g];this.message=g+": DOM Exception "+this.code}var F=Math,G=F.round,N=F.sin,I=F.cos,H=10,Q=H/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var Z=Array.prototype.slice;E(document);F={init:function(g){g=g||document;g.createElement("canvas");g.attachEvent("onreadystatechange",s(this.init_,this,g))},init_:function(g){g=g.getElementsByTagName("canvas");for(var k=0;k<g.length;k++)this.initElement(g[k])},
initElement:function(g){if(!g.getContext){g.getContext=c;E(g.ownerDocument);g.innerHTML="";g.attachEvent("onpropertychange",m);g.attachEvent("onresize",f);var k=g.attributes;if(k.width&&k.width.specified)g.style.width=k.width.nodeValue+"px";else g.width=g.clientWidth;if(k.height&&k.height.specified)g.style.height=k.height.nodeValue+"px";else g.height=g.clientHeight}return g}};F.init();for(var aa=[],C=0;C<16;C++)for(var O=0;O<16;O++)aa[C*16+O]=C.toString(16)+O.toString(16);var ia={},la={butt:"flat",
round:"round"};C=w.prototype;C.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};C.beginPath=function(){this.currentPath_=[]};C.moveTo=function(g,k){var p=l(this,g,k);this.currentPath_.push({type:"moveTo",x:p.x,y:p.y});this.currentX_=p.x;this.currentY_=p.y};C.lineTo=function(g,k){var p=l(this,g,k);this.currentPath_.push({type:"lineTo",x:p.x,y:p.y});this.currentX_=p.x;this.currentY_=p.y};C.arc=function(g,k,p,x,J,y){p*=
H;var V=y?"at":"wa",ba=g+I(x)*p-Q,ja=k+N(x)*p-Q;x=g+I(J)*p-Q;J=k+N(J)*p-Q;if(ba==x&&!y)ba+=0.125;g=l(this,g,k);ba=l(this,ba,ja);x=l(this,x,J);this.currentPath_.push({type:V,x:g.x,y:g.y,radius:p,xStart:ba.x,yStart:ba.y,xEnd:x.x,yEnd:x.y})};C.stroke=function(g){var k=[];k.push("<g_vml_:shape",' filled="',!!g,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',H*10,",",H*10,'"',' stroked="',!g,'"',' path="');for(var p={x:null,y:null},x={x:null,y:null},
J=0;J<this.currentPath_.length;J++){var y=this.currentPath_[J];switch(y.type){case "moveTo":k.push(" m ",G(y.x),",",G(y.y));break;case "lineTo":k.push(" l ",G(y.x),",",G(y.y));break;case "close":k.push(" x ");y=null;break;case "bezierCurveTo":k.push(" c ",G(y.cp1x),",",G(y.cp1y),",",G(y.cp2x),",",G(y.cp2y),",",G(y.x),",",G(y.y));break;case "at":case "wa":k.push(" ",y.type," ",G(y.x-this.arcScaleX_*y.radius),",",G(y.y-this.arcScaleY_*y.radius)," ",G(y.x+this.arcScaleX_*y.radius),",",G(y.y+this.arcScaleY_*
y.radius)," ",G(y.xStart),",",G(y.yStart)," ",G(y.xEnd),",",G(y.yEnd))}if(y){if(p.x==null||y.x<p.x)p.x=y.x;if(x.x==null||y.x>x.x)x.x=y.x;if(p.y==null||y.y<p.y)p.y=y.y;if(x.y==null||y.y>x.y)x.y=y.y}}k.push(' ">');if(g){g=e(this.fillStyle);k.push('<g_vml_:fill color="',g.color,'" opacity="',g.alpha*this.globalAlpha,'" />')}else{p=e(this.strokeStyle);g=p.color;p=p.alpha*this.globalAlpha;x=this.lineScale_*this.lineWidth;if(x<1)p*=x;k.push("<g_vml_:stroke",' opacity="',p,'"',' joinstyle="',this.lineJoin,
'"',' miterlimit="',this.miterLimit,'"',' endcap="',la[this.lineCap]||"square",'"',' weight="',x,'px"',' color="',g,'" />')}k.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",k.join(""))};C.fill=function(){this.stroke(true)};C.closePath=function(){this.currentPath_.push({type:"close"})};C=n.prototype=Error();C.INDEX_SIZE_ERR=1;C.DOMSTRING_SIZE_ERR=2;C.HIERARCHY_REQUEST_ERR=3;C.WRONG_DOCUMENT_ERR=4;C.INVALID_CHARACTER_ERR=5;C.NO_DATA_ALLOWED_ERR=6;C.NO_MODIFICATION_ALLOWED_ERR=
7;C.NOT_FOUND_ERR=8;C.NOT_SUPPORTED_ERR=9;C.INUSE_ATTRIBUTE_ERR=10;C.INVALID_STATE_ERR=11;C.SYNTAX_ERR=12;C.INVALID_MODIFICATION_ERR=13;C.NAMESPACE_ERR=14;C.INVALID_ACCESS_ERR=15;C.VALIDATION_ERR=16;C.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=F;CanvasRenderingContext2D=w;DOMException=n}();
(function(c){function s(m){var f=[].slice.call(arguments,1),j=0;m=c.event.fix(m||window.event);m.type="mousewheel";if(m.wheelDelta)j=m.wheelDelta/120;if(m.detail)j=-m.detail/3;f.unshift(m,j);return c.event.handle.apply(this,f)}var E=["DOMMouseScroll","mousewheel"];c.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var m=E.length;m;)this.addEventListener(E[--m],s,false);else this.onmousewheel=s},teardown:function(){if(this.removeEventListener)for(var m=E.length;m;)this.removeEventListener(E[--m],
s,false);else this.onmousewheel=null}};c.fn.extend({mousewheel:function(m){return m?this.bind("mousewheel",m):this.trigger("mousewheel")},unmousewheel:function(m){return this.unbind("mousewheel",m)}})})(jQuery);
$.widget||function(c,s){var E=Array.prototype.slice,m=c.cleanData;c.cleanData=function(f){for(var j=0,h;(h=f[j])!=null;j++)c(h).triggerHandler("remove");m(f)};c.widget=function(f,j,h){var t=f.split(".")[0],e;f=f.split(".")[1];e=t+"-"+f;if(!h){h=j;j=c.Widget}c.expr[":"][e]=function(l){return!!c.data(l,f)};c[t]=c[t]||{};c[t][f]=c.extend(function(l,n){if(!this._createWidget)return new c[t][f](l,n);arguments.length&&this._createWidget(l,n)},c[t][f]);var w=new j;w.options=c.extend(true,{},w.options);c.each(h,
function(l,n){if(c.isFunction(n))h[l]=function(){var F=function(N){return j.prototype[N].apply(this,E.call(arguments,1))},G=function(N,I){return j.prototype[N].apply(this,I)};return function(){var N=this._super,I=this._superApply,H;this._super=F;this._superApply=G;H=n.apply(this,arguments);this._super=N;this._superApply=I;return H}}()});c[t][f].prototype=c.extend(true,w,{namespace:t,widgetName:f,widgetEventPrefix:f,widgetBaseClass:e},h);c.widget.bridge(f,c[t][f])};c.widget.bridge=function(f,j){c.fn[f]=
function(h){var t=typeof h==="string",e=E.call(arguments,1),w=this;h=!t&&e.length?c.extend.apply(null,[true,h].concat(e)):h;t?this.each(function(){var l=c.data(this,f);if(!l)return c.error("cannot call methods on "+f+" prior to initialization; attempted to call method '"+h+"'");if(!c.isFunction(l[h])||h.charAt(0)==="_")return c.error("no such method '"+h+"' for "+f+" widget instance");var n=l[h].apply(l,e);if(n!==l&&n!==s){w=n;return false}}):this.each(function(){var l=c.data(this,f);l?l.option(h||
{})._init():j(h,this)});return w}};c.Widget=function(f,j){if(!this._createWidget)return new c[namespace][name](f,j);arguments.length&&this._createWidget(f,j)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false},_createWidget:function(f,j){j=c(j||this.defaultElement||this)[0];this.element=c(j);this.options=c.extend(true,{},this.options,this._getCreateOptions(),f);this.bindings=c();this.hoverable=c();this.focusable=c();if(j!==this){c.data(j,this.widgetName,
this);this._bind({remove:"destroy"})}this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:c.noop,_init:c.noop,destroy:function(){this._destroy();this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled");this.bindings.unbind("."+this.widgetName);this.hoverable.removeClass("ui-state-hover");
this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(f,j){var h=f;if(arguments.length===0)return c.extend({},this.options);if(typeof f==="string"){if(j===s)return this.options[f];h={};h[f]=j}this._setOptions(h);return this},_setOptions:function(f){var j=this;c.each(f,function(h,t){j._setOption(h,t)});return this},_setOption:function(f,j){this.options[f]=j;if(f==="disabled"){this.widget().toggleClass(this.widgetBaseClass+"-disabled ui-state-disabled",
!!j).attr("aria-disabled",j);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_bind:function(f,j){if(j){f=c(f);this.bindings=this.bindings.add(f)}else{j=f;f=this.element}var h=this;c.each(j,function(t,e){f.bind(t+"."+h.widgetName,function(){if(!(h.options.disabled===true||c(this).hasClass("ui-state-disabled")))return(typeof e===
"string"?h[e]:e).apply(h,arguments)})})},_hoverable:function(f){this.hoverable=this.hoverable.add(f);this._bind(f,{mouseenter:function(j){c(j.currentTarget).addClass("ui-state-hover")},mouseleave:function(j){c(j.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(f){this.focusable=this.focusable.add(f);this._bind(f,{focusin:function(j){c(j.currentTarget).addClass("ui-state-focus")},focusout:function(j){c(j.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,j,h){var t=
this.options[f];j=c.Event(j);j.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();h=h||{};if(j.originalEvent){f=c.event.props.length;for(var e;f;){e=c.event.props[--f];j[e]=j.originalEvent[e]}}this.element.trigger(j,h);h=c.isArray(h)?[j].concat(h):[j,h];return!(c.isFunction(t)&&t.apply(this.element[0],h)===false||j.isDefaultPrevented())}}}(jQuery);
(function(c){c.geo={_center:function(s){return[(s[0]+s[2])/2,(s[1]+s[3])/2]},_expandBy:function(s,E,m){s=this._center(s);return[s[0]-E,s[1]-m,s[0]+E,s[1]+m]},_height:function(s){return s[3]-s[1]},_reaspect:function(s,E){var m=this._width(s),f=this._height(s),j=this._center(s);if(m==0||f==0||E<=0)return s;if(m/f>E){m=m/2;f=m/E}else{f=f/2;m=f*E}return[j[0]-m,j[1]-f,j[0]+m,j[1]+f]},_scaleBy:function(s,E){return this._expandBy(s,this._width(s)*E/2,this._height(s)*E/2)},_width:function(s){return s[2]-
s[0]},proj:function(){function s(f){return f>Math.PI?f-=E:f<-Math.PI?f+=E:f}var E=6.283185307179586;this.CoordinateSystem=function(f,j,h,t){if(arguments.length<2)j=0;if(arguments.length<3)h=0;if(arguments.length<4)t=1;switch(t){case "meters":t=1;break;case "feet":t=3.2808333333333333}this.toGeodetic=function(e){return f.toGeodetic({x:(e.x-j)/t,y:(e.y-h)/t})};this.toProjected=function(e){e=f.toProjected(e);return{x:e.x*t+j,y:e.y*t+h}}};this.Mercator=function(f,j,h){f*=0.017453292519943295;j*=0.017453292519943295;
var t=h.e*h.e,e=Math.sin(j),w=1/(Math.sqrt(1-t*e*e)/Math.cos(j));j=t*t;e=j*t;var l=e*t,n=t/2+5*j/24+e/12+13*l/360,F=7*j/48+29*e/240+811*l/11520,G=7*e/120+81*l/1120,N=4279*l/161280;this.toGeodetic=function(I){var H=s(f+I.x/(w*h.smaj));I=1.5707963267948966-2*Math.atan(1/Math.exp(I.y/(w*h.smaj)));return{x:H*57.29577951308232,y:(I+n*Math.sin(2*I)+F*Math.sin(4*I)+G*Math.sin(6*I)+N*Math.sin(8*I))*57.29577951308232}};this.toProjected=function(I){var H=I.y*0.017453292519943295,Q=h.e*Math.sin(H);H=Math.tan(Math.PI/
4+H/2)*Math.pow((1-Q)/(1+Q),h.e/2);I=s(I.x*0.017453292519943295-f);return{x:w*h.smaj*I,y:w*h.smaj*Math.log(H)}}};this.Spheroid=function(f,j){switch(typeof f){case "number":this.smaj=f;this.e=j;break;case "string":switch(f){case "WGS84Sphere":this.smaj=6378137;this.e=0}}this.smin=this.smaj*Math.sqrt(1-this.e*this.e);var h=(this.smaj-this.smin)/this.smaj;this.distance=function(t,e,w){if(arguments.length<3)w=1;switch(w){case "meters":w=1;break;case "feet":w=3.2808333333333333}var l=t.y*0.017453292519943295,
n=e.y*0.017453292519943295,F=(l+n)*0.5,G=(l-n)*0.5,N=(t.x*0.017453292519943295-e.x*0.017453292519943295)*0.5;l=Math.sin(F);l*=l;F=Math.cos(F);F*=F;n=Math.sin(G);n*=n;G=Math.cos(G);G*=G;var I=Math.sin(N);I*=I;var H=Math.cos(N);H*=H;N=n*H+F*I;I=G*H+l*I;H=Math.atan(Math.sqrt(N/I));var Q=Math.sqrt(N*I)/H;return 2*this.smaj*H*(1+h*((3*Q-1)/(2*I)*l*G-(3*Q+1)/(2*N)*F*n))*w}};var m=new Mercator(0,0,new Spheroid("WGS84Sphere"));return{fromGeodetic:function(f){var j=c.isArray(f[0]),h=[],t=0,e;for(j||(f=[f]);t<
f.length;t++){e=m.toProjected({x:f[t][0],y:f[t][1]});h[t]=[e.x,e.y]}return j?h:h[0]},toGeodetic:function(f){var j=c.isArray(f[0]),h=[],t=0,e;for(j||(f=[f]);t<f.length;t++){e=m.toGeodetic({x:f[t][0],y:f[t][1]});h[t]=[e.x,e.y]}return j?h:h[0]}}}()}})(jQuery,this);
(function(c){var s,E,m,f,j,h,t=function(){for(var e=5,w=document.createElement("div"),l=w.all||[];w.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]--\>",l[0];);return e>6?e:!e}();c.widget("geo.geographics",{options:{style:{color:"#7f0000",fillOpacity:0.2,height:"8px",opacity:1,strokeOpacity:1,strokeWidth:"2px",visibility:"visible",width:"8px"}},_create:function(){s=this.element;E=this.options;s.css({display:"inline-block",overflow:"hidden",textAlign:"left"});s.css("position")=="static"&&s.css("position",
"relative");m=s.width();f=s.height();if(!(m&&f)){m=parseInt(s.css("width"));f=parseInt(s.css("height"))}if(document.createElement("canvas").getContext){s.append('<canvas width="'+m+'" height="'+f+'" style="position:absolute; left:0; top:0; width:'+m+"px; height:"+f+'px;"></canvas>');j=s.children(":last");h=j[0].getContext("2d")}else if(t<=8){s.append('<div width="'+m+'" height="'+f+'" style="position:absolute; left:0; top:0; width:'+m+"px; height:"+f+'px; margin:0; padding:0;"></div>');j=s.children(":last");
G_vmlCanvasManager.initElement(j[0]);h=j[0].getContext("2d");j.children().css({backgroundColor:"transparent",width:m,height:f})}},_setOption:function(){c.Widget.prototype._setOption.apply(this,arguments)},destroy:function(){c.Widget.prototype.destroy.apply(this,arguments);s.html("")},clear:function(){h.clearRect(0,0,m,f)},drawArc:function(e,w,l,n){n=this._getGraphicStyle(n);if(n.widthValue>0&&n.heightValue>0){w=w*Math.PI/180;l=l*Math.PI/180;var F=Math.round(Math.min(n.widthValue,n.heightValue)/2);
h.beginPath();h.arc(e[0],e[1],F,w,l,false);if(n.doFill){h.fillStyle=n.fill;h.globalAlpha=n.opacity*n.fillOpacity;h.fill()}if(n.doStroke){h.lineJoin="round";h.lineWidth=n.strokeWidthValue;h.strokeStyle=n.stroke;h.globalAlpha=n.opacity*n.strokeOpacity;h.stroke()}}},drawLineString:function(e,w){this._drawLines([e],false,w)},drawPolygon:function(e,w){this._drawLines(e,true,w)},drawBbox:function(e,w){this._drawLines([[[e[0],e[1]],[e[0],e[3]],[e[2],e[3]],[e[2],e[1]],[e[0],e[1]]]],true,w)},_getGraphicStyle:function(e){function w(l){l=
parseInt(l);return+l+""===l?+l:l}e=c.extend({},E.style,e);e.fill=e.fill||e.color;e.fillOpacity=e.fillOpacity||e.opacity;e.doFill=e.fill&&e.fillOpacity>0;e.stroke=e.stroke||e.color;e.strokeOpacity=e.strokeOpacity||e.opacity;e.strokeWidthValue=w(e.strokeWidth);e.doStroke=e.stroke&&e.strokeOpacity>0&&e.strokeWidthValue>0;e.widthValue=w(e.width);e.heightValue=w(e.height);return e},_drawLines:function(e,w,l){if(!(!e||!e.length||e[0].length<2)){l=this._getGraphicStyle(l);var n,F;if(l.doFill){h.fillStyle=
l.fill;h.globalAlpha=l.opacity*l.fillOpacity;h.beginPath();h.moveTo(e[0][0][0],e[0][0][1]);var G=e[0][e[0].length-1];for(n=0;n<e.length;n++){for(F=0;F<e[n].length;F++)h.lineTo(e[n][F][0],e[n][F][1]);n>0&&h.lineTo(G[0],G[1])}h.closePath();h.globalAlpha=l.opacity*l.fillOpacity;h.fill()}if(l.doStroke){h.lineJoin="round";h.lineWidth=l.strokeWidthValue;h.strokeStyle=l.stroke;h.globalAlpha=l.opacity*l.strokeOpacity;for(n=0;n<e.length;n++){h.beginPath();h.moveTo(e[n][0][0],e[n][0][1]);for(F=0;F<e[n].length;F++)h.lineTo(e[n][F][0],
e[n][F][1]);w&&h.lineTo(e[n][0][0],e[n][0][1]);h.stroke()}}}}})})(jQuery);
(function(c,s){var E,m={},f,j,h,t,e,w=[],l,n,F,G,N=null,I=0,H,Q,Z,aa,C,O,ia,la,g,k,p,x,J,y=function(){for(var a=5,b=document.createElement("div"),d=b.all||[];b.innerHTML="<!--[if gt IE "+ ++a+"]><br><![endif]--\>",d[0];);return a>6?a:!a}(),V,ba,ja,ka,ma=[],fa={},A={},oa={bbox:[-180,-85,180,85],bboxMax:[-180,-85,180,85],center:[0,0],cursors:{pan:"move"},mode:"pan",services:[{id:"OSM",type:"tiled",getUrl:function(a){return"http://tile.openstreetmap.org/"+a.zoom+"/"+a.tile.column+"/"+a.tile.row+".png"},
attr:"&copy; OpenStreetMap &amp; contributors, CC-BY-SA"}],tilingScheme:{tileWidth:256,tileHeight:256,levels:18,basePixelSize:156543.03392799935,origin:[-2.0037508342787E7,2.0037508342787E7]},zoom:0,_serviceTypes:{tiled:function(){var a={};return{create:function(b,d){if(!a[d.id]){a[d.id]={loadCount:0,reloadTiles:false,serviceContainer:null};j.append("<div data-service='"+d.id+"' style='position:absolute; left:0; top:0; width:8px; height:8px; margin:0; padding:0; display:"+(d.visible===s||d.visible?
"block":"none")+";'></div>");a[d.id].serviceContainer=j.children("[data-service='"+d.id+"']")}},destroy:function(b,d){a[d.id].serviceContainer.remove();delete a[d.id]},interactivePan:function(b,d,o,q){if(a[d.id]){this._cancelUnloaded(b,d);a[d.id].serviceContainer.children().css({left:function(ea,na){return parseInt(na)+o},top:function(ea,na){return parseInt(na)+q}});if(d&&a[d.id]!=null&&(d.visible===s||d.visible)){var r=n,v=a[d.id],D=v.serviceContainer,B=D.children("[data-pixelSize='"+r+"']"),u=b.options.tilingScheme,
z=u.tileWidth,K=u.tileHeight,T=m.width/2*r,M=m.height/2*r,P=B.position(),L=B.data("scaleOrigin").split(","),ca=parseInt(L[0])-P.left;P=parseInt(L[1])-P.top;var R=l;L=[R[0]+ca*r,R[1]-P*r];var W=Math.floor((L[0]-T-u.origin[0])/(r*z));ca=Math.floor((u.origin[1]-(L[1]+M))/(r*K));P=Math.ceil((L[0]+T-u.origin[0])/(r*z));L=Math.ceil((u.origin[1]-(L[1]-M))/(r*K));var X=b._getBboxMax(),U=b._getTiledPixelSize(0),S=U/r,Y=Math.floor((X[0]-u.origin[0])/(U*z))*S;X=Math.floor((u.origin[1]-X[3])/(U*K))*S;T=Math.round((u.origin[0]+
Y*z*r-(R[0]-T))/r);M=Math.round((R[1]+M-(u.origin[1]-X*K*r))/r);var ga=d.opacity===s?1:d.opacity;for(R=W;R<P;R++)for(W=ca;W<L;W++){U=""+R+","+W;S=B.children("[data-tile='"+U+"']").removeAttr("data-dirty");if(S.size()===0){var ha=[u.origin[0]+R*z*r,u.origin[1]-W*K*r],da=[u.origin[0]+((R+1)*z-1)*r,u.origin[1]-((W+1)*K-1)*r];ha=d.getUrl({bbox:[ha[0],ha[1],da[0],da[1]],width:z,height:K,zoom:b._getZoom(),tile:{row:W,column:R},index:Math.abs(W+R)});v.loadCount++;if(v.reloadTiles&&S.size()>0)S.attr("src",
ha);else{S="<img style='position:absolute; left:"+((R-Y)*100+(T-T%z)/z*100)+"%; top:"+((W-X)*100+(M-M%K)/K*100)+"%; ";if(c("body")[0].filters===s)S+="width: 100%; height: 100%;";S+="margin:0; padding:0; -khtml-user-select:none; -moz-user-select:none; -webkit-user-select:none; user-select:none; display:none;' unselectable='on' data-tile='"+U+"' />";B.append(S);S=B.children(":last");S.load(function(ea){ga<1?c(ea.target).fadeTo(0,ga):c(ea.target).show();v.loadCount--;if(v.loadCount<=0){D.children(":not([data-pixelSize='"+
r+"'])").remove();v.loadCount=0}}).error(function(ea){c(ea.target).remove();v.loadCount--;if(v.loadCount<=0){D.children(":not([data-pixelSize='"+r+"'])").remove();v.loadCount=0}}).attr("src",ha)}}}}}},interactiveScale:function(b,d,o,q){if(a[d.id]){this._cancelUnloaded(b,d);var r=b.options.tilingScheme,v=r.tileWidth,D=r.tileHeight;a[d.id].serviceContainer.children().each(function(){var B=c(this),u=B.attr("data-pixelSize")/q;u=Math.round(u*1E3)/1E3;var z=B.data("scaleOrigin").split(",");z=b._toMap([z[0],
z[1]]);z=b._toPixel(z,o,q);B.css({left:Math.round(z[0])+"px",top:Math.round(z[1])+"px",width:v*u,height:D*u});c("body")[0].filters!==s&&B.children().each(function(){c(this).css("filter","progid:DXImageTransform.Microsoft.Matrix(FilterType=bilinear,M11="+u+",M22="+u+",sizingmethod='auto expand')")})})}},refresh:function(b,d){if(d&&a[d.id]&&(d.visible===s||d.visible)){this._cancelUnloaded(b,d);var o=b._getBbox(),q=n,r=a[d.id],v=r.serviceContainer,D=b.options.tilingScheme,B=D.tileWidth,u=D.tileHeight,
z=Math.floor((o[0]-D.origin[0])/(q*B)),K=Math.floor((D.origin[1]-o[3])/(q*u)),T=Math.ceil((o[2]-D.origin[0])/(q*B)),M=Math.ceil((D.origin[1]-o[1])/(q*u)),P=b._getBboxMax(),L=b._getTiledPixelSize(0),ca=L/q,R=Math.floor((P[0]-D.origin[0])/(L*B))*ca,W=Math.floor((D.origin[1]-P[3])/(L*u))*ca,X=Math.round((D.origin[0]+R*B*q-o[0])/q),U=Math.round((o[3]-(D.origin[1]-W*u*q))/q);o=v.children().show();P=o.filter("[data-pixelSize='"+q+"']").appendTo(v);var S=d.opacity===s?1:d.opacity;r.reloadTiles&&o.find("img").attr("data-dirty",
"true");if(P.size()){P.css({left:X%B+"px",top:U%u+"px"}).data("scaleOrigin",X%B+","+U%u);P.children().each(function(){var da=c(this),ea=da.attr("data-tile").split(",");da.css({left:Math.round((parseInt(ea[0])-R)*100+(X-X%B)/B*100)+"%",top:Math.round((parseInt(ea[1])-W)*100+(U-U%u)/u*100)+"%"});S<1&&da.fadeTo(0,S)})}else{v.append("<div style='position:absolute; left:"+X%B+"px; top:"+U%u+"px; width:"+B+"px; height:"+u+"px; margin:0; padding:0;' data-pixelSize='"+q+"'></div>");P=v.children(":last").data("scaleOrigin",
X%B+","+U%u)}for(z=z;z<T;z++)for(L=K;L<M;L++){ca=""+z+","+L;var Y=P.children("[data-tile='"+ca+"']").removeAttr("data-dirty");if(Y.size()===0||r.reloadTiles){var ga=[D.origin[0]+z*B*q,D.origin[1]-L*u*q],ha=[D.origin[0]+((z+1)*B-1)*q,D.origin[1]-((L+1)*u-1)*q];ga=d.getUrl({bbox:[ga[0],ga[1],ha[0],ha[1]],width:B,height:u,zoom:b._getZoom(),tile:{row:L,column:z},index:Math.abs(L+z)});r.loadCount++;if(r.reloadTiles&&Y.size()>0)Y.attr("src",ga);else{Y="<img style='position:absolute; left:"+((z-R)*100+(X-
X%B)/B*100)+"%; top:"+((L-W)*100+(U-U%u)/u*100)+"%; ";if(c("body")[0].filters===s)Y+="width: 100%; height: 100%;";Y+="margin:0; padding:0; -khtml-user-select:none; -moz-user-select:none; -webkit-user-select:none; user-select:none; display:none;' unselectable='on' data-tile='"+ca+"' />";P.append(Y);Y=P.children(":last");Y.load(function(da){S<1?c(da.target).fadeTo(0,S):c(da.target).show();r.loadCount--;if(r.loadCount<=0){v.children(":not([data-pixelSize='"+q+"'])").remove();r.loadCount=0}}).error(function(da){c(da.target).remove();
r.loadCount--;if(r.loadCount<=0){v.children(":not([data-pixelSize='"+q+"'])").remove();r.loadCount=0}}).attr("src",ga)}}}o.find("[data-dirty]").remove();r.reloadTiles=false}},_cancelUnloaded:function(b,d){var o=a[d.id];if(o&&o.loadCount>0)for(o.serviceContainer.find("img:hidden").remove();o.loadCount>0;)o.loadCount--}}}(),shingled:function(){var a={};return{create:function(b,d){if(!a[d.id]){a[d.id]={loadCount:0};j.append('<div data-service="'+d.id+'" style="position:absolute; left:0; top:0; width:16px; height:16px; margin:0; padding:0; display:'+
(d.visible===s||d.visible?"block":"none")+';"></div>');a[d.id].serviceContainer=j.children('[data-service="'+d.id+'"]')}},destroy:function(b,d){a[d.id].serviceContainer.remove();delete a[d.id]},interactivePan:function(b,d,o,q){if(a[d.id]){this._cancelUnloaded(b,d);b=a[d.id].serviceContainer.children("[data-pixelSize='"+n+"']");d=b.children("div");if(!d.length){b.children("img").wrap('<div style="position:absolute; left:0; top:0; width:100%; height:100%;"></div>');d=b.children("div")}d.css({left:function(r,
v){return parseInt(v)+o},top:function(r,v){return parseInt(v)+q}})}},interactiveScale:function(b,d,o,q){if(a[d.id]){this._cancelUnloaded(b,d);var r=m.width,v=m.height,D=r/2,B=v/2;a[d.id].serviceContainer.children().each(function(){var u=c(this),z=u.attr("data-pixelSize"),K=z/q;u.css({width:r*K,height:v*K}).children("img").each(function(){var T=c(this),M=T.data("center");T.css({left:(Math.round((M[0]-o[0])/z)-D)*K+"px",top:(Math.round((o[1]-M[1])/z)-B)*K+"px"})})})}},refresh:function(b,d){if(d&&a[d.id]&&
(d.visible===s||d.visible)){this._cancelUnloaded(b,d);var o=b._getBbox(),q=n,r=a[d.id],v=r.serviceContainer,D=m.width,B=m.height,u=D/2,z=B/2,K=v.children('[data-pixelSize="'+q+'"]'),T=d.opacity===s?1:d.opacity;if(!K.size()){v.append('<div style="position:absolute; left:'+u+"px; top:"+z+"px; width:"+D+"px; height:"+B+'px; margin:0; padding:0;" data-pixelSize="'+q+'"></div>');K=v.children(":last")}K.children("img").each(function(){var M=c(this),P=M.data("center");M.css({left:Math.round((P[0]-l[0])/
q)-u+"px",top:Math.round((l[1]-P[1])/q)-z+"px"})});T<1&&v.find("img").attr("data-keepAlive","0");o=d.getUrl({bbox:o,width:D,height:B,zoom:b._getZoom(),tile:null,index:0});r.loadCount++;K.append('<img style="position:absolute; left:-'+u+"px; top:-"+z+'px; width:100%; height:100%; margin:0; padding:0; -khtml-user-select:none; -moz-user-select:none; -webkit-user-select:none; user-select:none; display:none;" unselectable="on" />');K.children(":last").data("center",l).load(function(M){T<1?c(M.target).fadeTo(0,
T):c(M.target).show();r.loadCount--;if(r.loadCount<=0){v.children(':not([data-pixelSize="'+q+'"])').remove();M=v.find('[data-pixelSize="'+q+'"]>div');if(M.size()>0){var P=M.position();M.children("img").each(function(){var L=c(this),ca=P.left+parseInt(L.css("left")),R=P.top+parseInt(L.css("top"));L.css({left:ca+"px",top:R+"px"})}).unwrap();M.remove()}r.loadCount=0}}).error(function(M){c(M.target).remove();r.loadCount--;if(r.loadCount<=0){v.children(":not([data-pixelSize='"+q+"'])").remove();r.loadCount=
0}}).attr("src",o)}},_cancelUnloaded:function(b,d){var o=a[d.id];if(o&&o.loadCount>0)for(o.serviceContainer.find("img:hidden").remove();o.loadCount>0;)o.loadCount--}}}()}};c.widget("geo.geomap",function(){return{options:c.extend({},oa),_createWidget:function(a,b){fa=a;E=c(b);this._forcePosition(E);E.css("text-align","left");var d=this._findMapSize();m={x:parseInt(E.css("padding-left")),y:parseInt(E.css("padding-top")),width:d.width,height:d.height};this._createChildren();l=F=[0,0];n=G=156543.03392799935;
H=Q=Z=aa=p=ja=ka=false;C=O=g=k=x=[0,0];J=[0.8,0.8];ia=la=0;c.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){A=this.options;ba=(V="ontouchend"in document)||y==7;var a=V?"touchstart":"mousedown",b=V?"touchend touchcancel":"mouseup",d=V?"touchmove":"mousemove";e.dblclick(c.proxy(this._eventTarget_dblclick,this));e.bind(a,c.proxy(this._eventTarget_touchstart,this));a=e[0].setCapture?e:c(document);a.bind(d,c.proxy(this._dragTarget_touchmove,this));a.bind(b,c.proxy(this._dragTarget_touchstop,
this));e.mousewheel(c.proxy(this._eventTarget_mousewheel,this));h.geographics();if(fa){fa.bbox&&this._setOption("bbox",fa.bbox,false);fa.center&&this._setOption("center",fa.center,false);fa.zoom&&this._setZoom(fa.zoom,false,false)}e.css("cursor",A.cursors[A.mode]);this._createServices();this._refresh()},_setOption:function(a,b,d){d=d===s||d;switch(a){case "bbox":if(c.geo.proj){b=c.geo.proj.fromGeodetic([[b[0],b[1]],[b[2],b[3]]]);b=[b[0][0],b[0][1],b[1][0],b[1][1]]}this._setBbox(b,false,d);b=this._getBbox();
if(c.geo.proj){b=c.geo.proj.toGeodetic([[b[0],b[1]],[b[2],b[3]]]);b=[b[0][0],b[0][1],b[1][0],b[1][1]]}break;case "center":this._setCenterAndSize(c.geo.proj?c.geo.proj.fromGeodetic([[b[0],b[1]]])[0]:b,n,false,d);break;case "zoom":this._setZoom(b,false,d)}c.Widget.prototype._setOption.apply(this,arguments);switch(a){case "services":this._createServices();d&&this._refresh()}},destroy:function(){c.Widget.prototype.destroy.apply(this,arguments);this.element.html("")},getPixelSize:function(){return n},
toMap:function(a){a=this._toMap(a);return c.geo.proj?c.geo.proj.toGeodetic(a):a},toPixel:function(a){a=c.geo.proj?c.geo.proj.fromGeodetic(a):a;return this._toPixel(a)},addShape:function(a,b,d){d=d===s||d;if(a){var o=this;a=a.type=="FeatureCollection"?a.features:c.isArray(a)?a:[a];c.each(a,function(){if(this.type=="GeometryCollection")o.addShape(this.geometries,b,false);else ma[ma.length]={shape:this,style:b}});d&&this._refresh()}},_getBbox:function(){var a=m.width/2*n,b=m.height/2*n;return[l[0]-a,
l[1]-b,l[0]+a,l[1]+b]},_setBbox:function(a,b,d){var o=[a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2];a=Math.max(c.geo._width(a)/m.width,c.geo._height(a)/m.height);if(A.tilingScheme)a=this._getTiledPixelSize(this._getTiledZoom(a));this._setCenterAndSize(o,a,b,d)},_getBboxMax:function(){var a=m.width/2*G,b=m.height/2*G;return[F[0]-a,F[1]-b,F[0]+a,F[1]+b]},_getZoom:function(){if(A.tilingScheme)return this._getTiledZoom(n);else{var a=m.width/m.height,b=c.geo._reaspect(this._getBbox(),a);a=c.geo._reaspect(this._getBboxMax(),
a);return Math.log(c.geo._width(a)/c.geo._width(b))/Math.log(2)}},_setZoom:function(a,b,d){a=Math.max(a,0);if(A.tilingScheme)this._setCenterAndSize(l,this._getTiledPixelSize(a),b,d);else{a=c.geo._scaleBy(this._getBbox(),1/Math.pow(2,a));a=Math.max(c.geo._width(a)/m.width,c.geo._height(a)/m.height);this._setCenterAndSize(l,a,b,d)}},_createChildren:function(){var a=E.children().detach();this._forcePosition(a);a.css("-moz-user-select","none");E.prepend("<div style='position:absolute; left:"+m.x+"px; top:"+
m.y+"px; width:"+m.width+"px; height:"+m.height+"px; margin:0; padding:0; overflow:hidden; -khtml-user-select:none; -moz-user-select:none; -webkit-user-select:none; user-select:none;' unselectable='on'></div>");e=f=E.children(":first");f.append('<div style="position:absolute; left:0; top:0; width:'+m.width+"px; height:"+m.height+'px; margin:0; padding:0;"></div>');j=f.children(":last");f.append('<div style="position:absolute; left:0; top:0; width:'+m.width+"px; height:"+m.height+'px; margin:0; padding:0;"></div>');
h=f.children(":last");f.append('<div class="ui-widget ui-widget-content ui-corner-all" style="position:absolute; left:0; top:0px; max-width:128px; display:none;"><div style="margin:.2em;"></div></div>');t=f.children(":last");t.children();f.append(a)},_createServices:function(){var a;for(a=0;a<w.length;a++)A._serviceTypes[w[a].type].destroy(this,w[a]);for(a=0;a<A.services.length;a++)A._serviceTypes[A.services[a].type].create(this,A.services[a],a);w=A.services},_drawGraphics:function(a,b){var d,o,q,
r,v,D=this;for(d=0;d<b.length;d++){q=b[d].shape.geometry?b[d].shape.geometry:b[d].shape;r=ma[d].style;switch(q.type){case "Point":h.geographics("drawArc",this.toPixel(q.coordinates),0,360,r);break;case "LineString":h.geographics("drawLineString",this.toPixel(q.coordinates),r);break;case "Polygon":v=[];c.each(q.coordinates,function(B){v[B]=D.toPixel(this)});h.geographics("drawPolygon",v,r);break;case "MultiPoint":for(o=0;o<q.coordinates;o++)h.geographics("drawArc",this.toPixel(q.coordinates[o]),0,
360,r);break;case "MultiLineString":for(o=0;o<q.coordinates;o++)h.geographics("drawLineString",this.toPixel(q.coordinates[o]),r);break;case "MultiPolygon":for(o=0;o<q.coordinates;o++){v=[];c.each(q.coordinates[o],function(B){v[B]=D.toPixel(this)});h.geographics("drawPolygon",v,r)}}}},_findMapSize:function(){for(var a={width:0,height:0},b=E;b.size()&&!(a.width>0&&a.height>0);){a={width:b.width(),height:b.height()};if(a.width<=0||a.height<=0)a={width:parseInt(b.css("width")),height:parseInt(b.css("height"))};
b=b.parent()}return a},_forcePosition:function(a){var b=a.css("position");b!="relative"&&b!="absolute"&&b!="fixed"&&a.css("position","relative")},_getTiledPixelSize:function(a){var b=A.tilingScheme;if(b!=null){if(a===0)return b.pixelSizes!=null?b.pixelSizes[0]:b.basePixelSize;a=Math.round(a);a=Math.max(a,0);a=Math.min(a,(b.pixelSizes!=null?b.pixelSizes.length:b.levels)-1);return b.pixelSizes!=null?b.pixelSizes[a]:b.basePixelSize/Math.pow(2,a)}else return NaN},_getTiledZoom:function(a){var b=A.tilingScheme;
if(b.pixelSizes!=null){a=Math.round(a);for(var d=(b.pixelSizes!=null?b.pixelSizes.length:b.levels)-1;d>=0;d--)if(Math.round(b.pixelSizes[d])>=a)return d;return 0}else return Math.max(Math.round(Math.log(b.basePixelSize/a)/Math.log(2)),0)},_getWheelCenterAndSize:function(){var a;if(A.tilingScheme){a=this._getTiledZoom(n)+I;a=this._getTiledPixelSize(a)}else{a=Math.pow(1.18920711500273,-I);a=n*a}var b=a/n,d=this._toMap(C);b=[(l[0]-d[0])*b,(l[1]-d[1])*b];return{pixelSize:a,center:[d[0]+b[0],d[1]+b[1]]}},
_mouseWheelFinish:function(){N=null;if(I!=0){var a=this._getWheelCenterAndSize();I=0;this._setCenterAndSize(a.center,a.pixelSize,true,true)}else this._refresh()},_panEnd:function(){x=[x[0]>0?Math.floor(x[0]*J[0]):Math.ceil(x[0]*J[0]),x[1]>0?Math.floor(x[1]*J[1]):Math.ceil(x[1]*J[1])];if(Math.abs(x[0])<4&&Math.abs(x[1])<4)this._panFinalize();else{O=[O[0]+x[0],O[1]+x[1]];this._panMove();setTimeout(c.proxy(this._panEnd,this),30)}},_panFinalize:function(){if(p){x=[0,0];var a=-(O[0]-C[0])*n,b=(O[1]-C[1])*
n;h.css({left:0,top:0});this._setCenterAndSize([l[0]+a,l[1]+b],n,true,true);Q=false;C=O;Z=p=false;e.css("cursor",A.cursors[A.mode])}},_panMove:function(){var a=O[0]-k[0],b=O[1]-k[1];if(Z||a>3||a<-3||b>3||b<-3){if(!Z){Z=true;e.css("cursor",A.cursors.pan)}if(H)x=[a,b];if(a!=0||b!=0){p=true;k=O;for(i=0;i<A.services.length;i++){var d=A.services[i];A._serviceTypes[d.type].interactivePan(this,d,a,b)}h.css({left:function(o,q){return parseInt(q)+a},top:function(o,q){return parseInt(q)+b}})}}},_refresh:function(){for(var a=
0;a<A.services.length;a++){var b=A.services[a];!H&&A._serviceTypes[b.type]!=null&&A._serviceTypes[b.type].refresh(this,b)}if(ma.length>0){h.geographics("clear");this._drawGraphics(h,ma)}},_setCenterAndSize:function(a,b,d,o){if(n!=b){h.geographics("clear");for(var q=0;q<A.services.length;q++){var r=A.services[q];A._serviceTypes[r.type].interactiveScale(this,r,a,b)}}l=a;n=b;if(c.geo.proj){a=this._getBbox();a=c.geo.proj.toGeodetic([[a[0],a[1]],[a[2],a[3]]]);a=[a[0][0],a[0][1],a[1][0],a[1][1]];A.bbox=
a;A.center=c.geo.proj.toGeodetic([[l[0],l[1]]])[0]}else{A.bbox=this._getBbox();A.center=l}A.zoom=this._getZoom();d&&this._trigger("bboxchange",window.event,{bbox:A.bbox});o&&this._refresh()},_toMap:function(a,b,d){var o=c.isArray(a[0]);o||(a=[a]);b=b||l;d=d||n;var q=m.width,r=m.height,v=q/2*d;d=r/2*d;var D=[b[0]-v,b[1]-d,b[0]+v,b[1]+d],B=c.geo._width(D)/q,u=c.geo._height(D)/r,z=[];c.each(a,function(K){z[K]=[D[0]+this[0]*B,D[3]-this[1]*u]});return o?z:z[0]},_toPixel:function(a,b,d){var o=c.isArray(a[0]);
o||(a=[a]);b=b||l;d=d||n;var q=m.width,r=m.height,v=q/2*d;d=r/2*d;var D=[b[0]-v,b[1]-d,b[0]+v,b[1]+d],B=c.geo._width(D),u=c.geo._height(D),z=[];c.each(a,function(K){z[K]=[(this[0]-D[0])*q/B,(D[3]-this[1])*r/u]});return o?z:z[0]},_zoomTo:function(a,b,d,o){b=b<0?0:b;var q=this._getTiledPixelSize(b);if(isNaN(q)){b=c.geo._scaleBy(this._getBboxMax(),1/Math.pow(2,b));b=Math.max(c.geo._width(b)/m.width,c.geo._height(b)/m.height);this._setCenterAndSize(a,b,d,o)}else this._setCenterAndSize(a,q,d,o)},_eventTarget_dblclick:function(a){this._panFinalize();
c(a.currentTarget).offset();switch(A.mode){case "pan":this._trigger("dblclick",a,{pixels:O,coordinates:this.toMap(O)});a.isDefaultPrevented()||this._zoomTo(this._toMap(O),this._getZoom()+1,true,true)}Q=false},_eventTarget_touchstart:function(a){if(!(!V&&a.which!=1)){if(ba){var b=c.now();ka=b-ia<750?ka?false:ja:false;ja=true;ia=b}a.preventDefault();this._panFinalize();this._mouseWheelFinish();b=c(a.currentTarget).offset();O=V?[a.originalEvent.changedTouches[0].pageX-b.left,a.originalEvent.changedTouches[0].pageY-
b.top]:[a.pageX-b.left,a.pageY-b.top];H=true;C=O;if(!Q&&a.shiftKey){aa=true;e.css("cursor",A.cursors.zoom)}else{Q=true;switch(A.mode){case "pan":k=O;a.currentTarget.setCapture&&a.currentTarget.setCapture()}}return false}},_dragTarget_touchmove:function(a){var b=e.offset();b=V?[a.originalEvent.changedTouches[0].pageX-b.left,a.originalEvent.changedTouches[0].pageY-b.top]:[a.pageX-b.left,a.pageY-b.top];if(!(b[0]==g[0]&&b[1]==g[1])){if(ba)ka=ja=false;if(H){O=b;c.now()}switch(aa?"zoom":A.mode){case "pan":H||
Z?this._panMove():this._trigger("move",a,{pixels:b,coordinates:this.toMap(b)})}g=b}},_dragTarget_touchstop:function(a){!H&&y==7&&this._eventTarget_touchstart(a);var b=H,d=Z,o=e.offset();o=V?[a.originalEvent.changedTouches[0].pageX-o.left,a.originalEvent.changedTouches[0].pageY-o.top]:[a.pageX-o.left,a.pageY-o.top];var q=aa?"zoom":A.mode;e.css("cursor",A.cursors[q]);aa=H=Z=false;document.releaseCapture&&document.releaseCapture();if(b){b=c.now();O=o;switch(q){case "pan":if(d)this._panEnd();else if(b-
la>100){this._trigger("click",a,{pixels:o,coordinates:this.toMap(o)});Q=false}}la=b;if(ba&&ka){ka=ja=false;e.trigger("dblclick",a)}}},_eventTarget_mousewheel:function(a,b){a.preventDefault();this._panFinalize();if(!H){if(b!=0){if(N){window.clearTimeout(N);N=null}else{var d=c(a.currentTarget).offset();C=[a.pageX-d.left,a.pageY-d.top]}I+=b;d=this._getWheelCenterAndSize();h.geographics("clear");for(i=0;i<A.services.length;i++){var o=A.services[i];A._serviceTypes[o.type].interactiveScale(this,o,d.center,
d.pixelSize)}var q=this;N=window.setTimeout(function(){q._mouseWheelFinish()},1E3)}return false}}}}())})(jQuery);
