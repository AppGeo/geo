<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>geomap | $.geo</title>
  <meta name="description" content="$.geo geomap method">
  <meta name="author" content="Ryan Westphal">
</head>

<body>

  <div id="geomap" data-role=page data-theme="b">
    <div data-role="header">
      <h1>geomap widget</h1>
    </div>
    
    <div data-role="content">
      <p>Once you have an HTML element to target, you can call the geographic map widget's function.</p>
      <code><pre>.geomap( options )</pre></code>
      <h2>overview</h2>
      <p>The widget creates an interactive map. Users can pan and zoom on desktop and mobile browsers against many different cached tile sets or dynamic map servers. Developers can handle events triggered by user action.</p>
      <img src="images/map.png" alt="Example image of geomap in use" />
      <h2>options</h2>
      <p>The options argument is a JavaScript object that configures the map widget during the first instantiation on a div. No options are required. By default the map will show the whole world using the OpenStreetMap tile set.</p>
      <p>The map view refreshes when you change these properties: bbox, center, services, tilingScheme &amp; zoom.</p>
      <ul data-role=listview data-inset=true>
        <li>
          <a href="bbox.html">bbox</a>
        </li>
        <li>
          <a href="bboxMax.html">bboxMax</a>
        </li>
        <li>
          <a href="center.html">center</a>
        </li>
        <li>
          <a href="cursors.html">cursors</a>
        </li>
        <li>
          <a href="mode.html"><h3>mode</h3><p class="ui-li-desc">determines how the map, user &amp; developer interact</p></a>          
        </li>
        <li>
          <a href="services.html"><h3>services</h3><p class="ui-li-desc">determine the content of the map</p></a>
        </li>
        <li>
          <a href="tilingScheme.html">tilingScheme</a>
        </li>
        <li>
          <a href="zoom.html">zoom</a>
        </li>
      </ul>
      <h2>events</h2>
      <p>All event callbacks receive two arguments: the original browser event and an object specific to the map action.</p>
      <p>The units in the map event depend on the way you initialize the map widget and whether or not you set $.geo.proj to null.</p>
      <p>Like jQuery UI widgets, geomap triggers events directly on the original map div.</p>
      <p>Programatic changes to properties do not trigger events.</p>
      <p>The dblclick event is special in that you can prevent the default action by calling e.preventDefault() in your callback. This is currently the only geomap event that you can prevent the default action. Calling preventDefault in the callback of any other geomap event has undefined results.</p>
      <p>There are two geomap event <i>types</i>. The type of event determines what is sent to your event handler as the second argument, geo.</p>
      <h3>position events</h3>
      <p>With position events the geo argument to your callback is a JavaScript object having two properties: pixels &amp; coordinates. Even though they are both plural, both are a single <a href="http://geojson.org/geojson-spec.html#positions">GeoJSON position</a>, i.e., an array containing the x and y value. The geo.pixels property is in pixel coordinates based on the current map view and geo.coordinates is in map coordinates. If $.geo.proj is not the coordinates argument sent to your callback is geodetic, i.e., coordinates[0] is longitude and coordinates[1] is latitude. If $.geo.proj is null, the coordinates argument sent to your callback is in map coordinates based on the tilingScheme for tiled maps and bboxMax for shingled (dynamic) maps.</p>
      <p>In the geo argument we named the coordinates property as such so that the geo object itself matches the specification of a <a href="http://geojson.org/geojson-spec.html#point">GeoJSON Point</a> and can be used in other functions requiring such a structure. The pixels property is plural to match the tense of coordinates.</p>
      <ul data-role=listview data-inset=true>
        <li>
            <a href="geomapmove.html">move</a>
        </li>
        <li>
            <a href="geomapclick.html">click</a>
        </li>
        <li>
            <a href="geomapdblclick.html">dblclick</a>
        </li>
      </ul>
      <h3>bbox events</h3>
      <p>With bbox events the geo argument to your callback is an object with single property, bbox, which is a <a href="http://geojson.org/geojson-spec.html#bounding-boxes">GeoJSON bounding box</a> in map coordinates. If $.geo.proj is not null the bbox values are sent to your callback are geodetic. If $.geo.proj is null, the bbox values sent to your callback are in map coordinates based on the tilingScheme for tiled maps and bboxMax for shingled (dynamic) maps.</p>
      <!--<h3>geometry events</h3>
      <p>With geometry events the geo argument to your callback is a JavaScript object having two properties: pixels &amp; geometry. Both are multi-dimensional <a href="http://geojson.org/geojson-spec.html#positions">GeoJSON positions</a>, i.e., an array containing the x and y value but pixel is in pixel coordinates based on the current map view and the other in map coordinates based on the tilingScheme for tiled maps and bboxMax for shingled (dynamic) maps.</p>-->
      <ul data-role=listview data-inset=true>
        <li>
            <a href="geomapbbox.html">bboxchange</a>
        </li>
      </ul>
      <h2>methods</h2>
      <p>The geomap widget provides some methods to help make interacting map data a little easier.</p>
      <h3>information</h3>
      <ul data-role=listview data-inset=true>
        <li>
          <a href="getPixelSize.html">getPixelSize</a>
        </li>
      </ul>
      <h3>unit conversion</h3>
      <p>Convert positions between pixel and map coordinates.</p>
      <ul data-role="listview" data-inset="true">
        <li>
          <a href="toMap.html">toMap</a>
        </li>
        <li>
          <a href="toPixel.html">toPixel</a>
        </li>
      </ul>
      <h3>service modification</h3>
      <p>Convenience methods that help update objects in the services array.</p>
      <ul data-role="listview" data-inset="true">
        <li>
          <a href="toggle.html">toggle</a>
        </li>
        <li>
          <a href="opacity.html">opacity</a>
        </li>
      </ul>
      <h2>theming</h2>
      <p>The geomap widget itself does not create many DOM elements worth theming. There are exceptions but they are not included in this initial test release.<!--The only exception is the floating measure text. It gets the ui-widget, ui-widget-content and ui-corner-all classes.--></p>
    </div>
  </div> <!-- end of #container -->
</body>
</html>

